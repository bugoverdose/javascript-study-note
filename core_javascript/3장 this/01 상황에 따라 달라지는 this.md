# 3장 this

this에는 `호출한 주체에 대한 정보`가 담기게 됨.

- 비교) 대부분의 객체 지향 언어에서 this는 `클래스로 생성한 인스턴스 객체를 의미`함.

- JS의 경우 어디서든지 this 사용 가능.

- 상황에 따라 this가 바라보는 대상이 달라지기 때문에 작동 방식 이해 필요.

---

## 01 상황에 따라 달라지는 this

- JS에서 `this`는 기본적으로 특정 `실행 컨텍스트가 생성될 때 함께 결정`됨.
- 즉, this는 함수를 호출할 때 결정되며,
  함수를 어떤 방식으로 호출하느냐에 따라 값이 달라지는 것.

1. `전역 공간에서의 this` = `전역객체`

2. 메서드로서 호출할 때 그 `메서드 내부에서의 this` = **해당 메서드를 담고 있는 객체**

- 객체1.메서드명() / 객체1['메서드명']() : 메서드로서 호출 => this:객체1

3. 함수로서 호출할 때 그 `함수 내부에서의 this` = `전역객체`

- 함수명() : 함수로서 호출되면 `this` = `전역객체` (호출 주체가 없기 때문)
  cf) this 우회 방법: 화살표 함수 사용[ES6] : 실행 컨텍스트를 생성할 때 this를 바인딩하는 과정 자체가 빠지게 됨.
  메서드 내부에서 self 변수에 상위 스코프의 this값을 저장해놓고 사용
  [3장 02d 참고] call, apply, bind 메서드를 통해 더 쉽게 우회 가능.

4. 콜백 함수 호출 시 그 함수 내부에서의 this

- 제어권을 넘겨받는 함수(메서드)에 따라 콜백 함수의 this 값은 다르게 지정됨.
- 기본적으로 함수이므로, 지정된 값이 없으면 `콜백 함수의 this` = `전역객체`.

5. 생성자 함수 내부에서의 this

- 생성자 함수에 의해 `실제로 생성된 구체적인 인스턴스 자신`을 가리키게 됨.

```java
var Cat = function (name) {
  // this = {};
  this.name = name;
  // return this;
};
var choco = new Cat('초코');
// 생성자 함수 Cat 내부에서의 this는 choco 인스턴스를 가리킴.
```
